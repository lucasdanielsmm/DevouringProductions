<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Devouring Lab - Comunidad</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
/* =================== CSS ORIGINAL =================== */
:root {
  --bg-body:#f0f2f5;--bg-card:#fff;--accent:#4cc3ff;
  --accent-hover:#3aa8e0;--text-main:#333;
  --text-sec:#999;--border-color:#ebebeb;
  --radius:12px;--nav-height:64px;--subnav-height:56px;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',Helvetica,Arial,sans-serif;background:var(--bg-body)}
.navbar{background:#fff;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 30px;border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:2000}
.logo{font-weight:800;font-size:22px}
.logo span{color:var(--accent)}
.search-bar{background:#f4f4f4;border-radius:20px;padding:8px 15px;width:300px;display:flex;align-items:center;color:#999}
.search-bar input{border:none;background:none;outline:none;margin-left:10px;width:100%}
.game-nav{position:sticky;top:64px;height:56px;background:rgba(255,255,255,.8);display:flex;gap:15px;justify-content:center;align-items:center;border-bottom:1px solid var(--border-color)}
.game-item{padding:6px 14px;border-radius:25px;cursor:pointer;font-size:13px;font-weight:600}
.game-item.active{background:var(--accent);color:white}
.container{display:grid;grid-template-columns:260px 680px 320px;gap:24px;max-width:1300px;margin:24px auto;padding:0 20px}
.sidebar-left,.sidebar-right{position:sticky;top:140px}
.post-card{background:#fff;border-radius:12px;padding:24px;margin-bottom:16px;border:1px solid var(--border-color)}
.hidden{display:none}
@media(max-width:1200px){
.container{grid-template-columns:240px 1fr}
.sidebar-right{display:none}
}
/* =================================================== */
button{cursor:pointer}
#authModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:9999}
#authBox{background:white;width:320px;margin:10% auto;padding:20px;border-radius:10px}
#authBox input{width:100%;margin:6px 0;padding:8px}
</style>
</head>

<body>

<!-- ================= NAVBAR ================= -->
<nav class="navbar">
  <div class="logo">Devouring<span>Lab</span></div>

  <div class="search-bar">
    <i class="fas fa-search"></i>
    <input placeholder="Buscar posts...">
  </div>

  <div id="userArea" style="display:flex;gap:15px;align-items:center">
    <button id="openLogin">Ingresar</button>
  </div>
</nav>

<!-- ================= GAME NAV ================= -->
<div class="game-nav">
  <div class="game-item active" onclick="filterGame('all',this)">General</div>
  <div class="game-item" onclick="filterGame('vireo',this)">Vireo</div>
</div>

<!-- ================= CONTENIDO ================= -->
<div class="container">

<aside class="sidebar-left">
  <p>Menú</p>
</aside>

<main>
  <article class="post-card" data-game="vireo">
    <h3>Post de ejemplo</h3>
    <p>Este contenido se ve aunque no estés logueado.</p>
  </article>
</main>

<aside class="sidebar-right">
  <p>Perfil</p>
</aside>

</div>

<!-- ================= MODAL AUTH ================= -->
<div id="authModal">
  <div id="authBox">
    <h3>Cuenta</h3>
    <input id="email" placeholder="Email">
    <input id="password" type="password" placeholder="Contraseña">
    <button id="loginBtn">Ingresar</button>
    <button id="registerBtn">Registrarse</button>
  </div>
</div>

<!-- ================= FIREBASE ================= -->
<script defer src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script defer src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script defer src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script defer>
document.addEventListener("DOMContentLoaded",()=>{

const firebaseConfig={
  apiKey: "AIzaSyC_vxI4azIIPRyXE3LCAlYDS1xKnwMSYmk",
  authDomain: "devouringlab.firebaseapp.com",
  projectId: "devouringlab",
  appId: "1:383272939740:web:203f83c89b1c7bd6344419"
};

firebase.initializeApp(firebaseConfig);

const auth=firebase.auth();

const modal=document.getElementById("authModal");
document.getElementById("openLogin").onclick=()=>modal.style.display="block";

loginBtn.onclick=()=>{
  auth.signInWithEmailAndPassword(email.value,password.value);
};

registerBtn.onclick=()=>{
  auth.createUserWithEmailAndPassword(email.value,password.value);
};

auth.onAuthStateChanged(user=>{
  if(user){
    modal.style.display="none";
    userArea.innerHTML=`
      <span>${user.email}</span>
      <button onclick="firebase.auth().signOut()">Salir</button>
    `;
  }
});

});

function filterGame(game,el){
  document.querySelectorAll(".game-item").forEach(i=>i.classList.remove("active"));
  el.classList.add("active");
  document.querySelectorAll(".post-card").forEach(p=>{
    game==="all"||p.dataset.game===game?p.classList.remove("hidden"):p.classList.add("hidden");
  });
}
</script>

</body>
</html>
