<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Devouring Lab - Comunidad</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<!-- FIREBASE SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
/* =================== TU CSS ORIGINAL (INTOCADO) =================== */
:root {
--bg-body:#f0f2f5;--bg-card:#fff;--accent:#4cc3ff;--text-main:#333;
--text-sec:#999;--border-color:#ebebeb;--radius:12px;
--nav-height:64px;--subnav-height:56px;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Segoe UI,Arial;background:var(--bg-body);color:var(--text-main)}
.navbar{background:#fff;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 30px;position:sticky;top:0;z-index:2000;border-bottom:1px solid var(--border-color)}
.logo{font-weight:800;font-size:22px}
.logo span{color:var(--accent)}
.search-bar{background:#f4f4f4;border-radius:20px;padding:8px 15px;width:300px;display:flex;align-items:center}
.search-bar input{border:none;background:none;outline:none;margin-left:10px;width:100%}

/* USER MENU */
.user-menu{position:relative}
.user-avatar{width:32px;height:32px;border-radius:50%;background:#ddd;cursor:pointer}
.user-dropdown{position:absolute;right:0;top:40px;background:#fff;border:1px solid #ddd;border-radius:8px;min-width:220px;display:none;z-index:3000}
.user-dropdown button{width:100%;padding:10px;border:none;background:none;text-align:left;cursor:pointer}
.user-dropdown button:hover{background:#f0f2f5}

/* MODAL */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:4000}
.modal-content{background:#fff;padding:24px;border-radius:12px;width:320px}
.modal-content input{width:100%;padding:8px;margin-bottom:10px}

/* RESTO DE TU LAYOUT */
.game-nav{height:56px;background:#fff;border-bottom:1px solid #ebebeb;display:flex;justify-content:center;align-items:center;gap:15px}
.container{display:grid;grid-template-columns:260px 680px 320px;gap:24px;max-width:1300px;margin:24px auto;padding:0 20px}
.post-card{background:#fff;border:1px solid #ebebeb;border-radius:12px;padding:24px}
.hidden{display:none}
</style>
</head>

<body>

<!-- =================== NAVBAR =================== -->
<nav class="navbar">
<div class="logo">Devouring<span>Lab</span></div>

<div class="search-bar">
<i class="fas fa-search"></i>
<input type="text" placeholder="Buscar posts...">
</div>

<div style="display:flex;gap:20px;align-items:center">
<i class="fas fa-edit"></i>
<i class="fas fa-bell"></i>

<div class="user-menu">
<div class="user-avatar" id="userAvatar"></div>
<div class="user-dropdown" id="userDropdown">
<button onclick="openLogin()">Iniciar sesión</button>
<button onclick="openRegister()">Registrarse</button>
<button onclick="logout()" id="logoutBtn" class="hidden">Cerrar sesión</button>
</div>
</div>
</div>
</nav>

<!-- =================== CONTENIDO =================== -->
<div class="container">
<main>
<article class="post-card">
<h3>Bienvenido a Devouring Lab</h3>
<p>Debes iniciar sesión para publicar y personalizar tu perfil.</p>
</article>
</main>
</div>

<!-- =================== MODALES =================== -->
<div class="modal" id="loginModal">
<div class="modal-content">
<h3>Iniciar sesión</h3>
<input id="loginEmail" type="email" placeholder="Email">
<input id="loginPassword" type="password" placeholder="Contraseña">
<button onclick="login()">Entrar</button>
</div>
</div>

<div class="modal" id="registerModal">
<div class="modal-content">
<h3>Registrarse</h3>
<input id="regEmail" type="email" placeholder="Email">
<input id="regPassword" type="password" placeholder="Contraseña">
<input id="regPassword2" type="password" placeholder="Confirmar contraseña">
<button onclick="register()">Crear cuenta</button>
</div>
</div>

<script>
/* =================== FIREBASE CONFIG =================== */
const firebaseConfig = {
apiKey: "AIzaSyC_vxI4azIIPRyXE3LCAlYDS1xKnwMSYmk",
authDomain: "devouringlab.firebaseapp.com",
projectId: "devouringlab",
appId: "1:383272939740:web:203f83c89b1c7bd6344419"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

/* =================== UI =================== */
const dropdown=document.getElementById("userDropdown");
document.getElementById("userAvatar").onclick=()=>dropdown.style.display=
dropdown.style.display==="block"?"none":"block";

function openLogin(){document.getElementById("loginModal").style.display="flex"}
function openRegister(){document.getElementById("registerModal").style.display="flex"}
window.onclick=e=>{if(e.target.classList.contains("modal"))e.target.style.display="none"}

/* =================== AUTH =================== */
function register(){
const e=regEmail.value,p=regPassword.value,p2=regPassword2.value;
if(p!==p2)return alert("Las contraseñas no coinciden");
auth.createUserWithEmailAndPassword(e,p);
}

function login(){
auth.signInWithEmailAndPassword(loginEmail.value,loginPassword.value);
}

function logout(){auth.signOut();}

auth.onAuthStateChanged(user=>{
document.getElementById("loginModal").style.display="none";
document.getElementById("registerModal").style.display="none";
document.getElementById("logoutBtn").classList.toggle("hidden",!user);
});
</script>

</body>
</html>
